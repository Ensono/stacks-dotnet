# **Build <a href="{{buildDetails._links.web.href}}" target="_blank">{{buildDetails.buildNumber}}</a>**
**Requested For:** @<{{buildDetails.requestedFor.uniqueName}}>
{{#forEach this.pullRequests}}
**Associated PR:** !{{this.pullRequestId}} - Created By: {{this.createdBy.displayName}}
{{/forEach}}

[[_TOC_]]

___

## 🔧**Build Scope**

### 📘 Associated User Stories
{{#if this.workItems.length}}
| **Type** | **Work Item** | **Parent** |
|----------|---------------|------------|
{{#forEach this.workItems}}
{{#if (isnt (lookup this.fields 'System.WorkItemType') 'Bug')}}
| {{lookup this.fields 'System.WorkItemType'}} | #{{this.id}} | {{#if (lookup this.fields 'System.Parent')}}#{{lookup this.fields 'System.Parent'}}{{else}}N/A{{/if}} |
{{/if}}
{{/forEach}}
{{else}}
- No user stories associated with this build.
{{/if}}

### 🔨 Associated Bugs
{{#if this.workItems.length}}
| **Type** | **Work Item** | **Parent** |
|----------|---------------|------------|
{{#forEach this.workItems}}
{{#if (eq (lookup this.fields 'System.WorkItemType') 'Bug')}}
| {{lookup this.fields 'System.WorkItemType'}} | #{{this.id}} | {{#if (lookup this.fields 'System.Parent')}}#{{lookup this.fields 'System.Parent'}}{{else}}N/A{{/if}} |
{{/if}}
{{/forEach}}
{{else}}
- No bugs associated with this build.
{{/if}}

___

## 🏗 **Build Detail**

### 🧪 **Test Summary**

{{#with (generateTestSummary this.tests) as |testResults|}}
{{#if testResults.length}}
| **Test Run**| **Number of tests run** | **Test pass rate** | Test Report |
|-------------|--------------------------|--------------------|------------|
{{#forEach testResults}}
{{this.name}}|{{this.totalTests}}|{{this.passRate}}|<a href="{{this.url}}" target="_blank">View Report</a>|
{{/forEach}}
{{else}}
- No test results available.
{{/if}}
{{/with}}

### 📝 **Commit Log**

{{#if this.commits.length}}
{{#forEach this.commits}}
<small><span><a href="{{../buildDetails.repository.url}}/commit/{{id}}" target="_blank">{{truncate id 5}}</a></span> by <b>{{author.displayName}}</b> {{#if (gt changes.length 0)}}({{inflect changes.length "file" "files" true}} changed) {{/if}} - "{{get_only_message_firstline message}}"</small>
{{/forEach}}
{{else}}
- No commits associated with this build.
{{/if}}

### 📁 **Artifacts ({{this.publishedArtifacts.length}})**

{{#if this.publishedArtifacts.length}}
| **Name** | **Artifact Link** |
| ---- | ---------|
{{#forEach publishedArtifacts}}
| {{name}} |<a href="{{resource.downloadUrl}}">Download</a>|
{{/forEach}}

<a href="{{buildDetails._links.web.href}}&view=artifacts&pathAsName=false&type=publishedArtifacts" target="_blank">Click here to view the complete artifact list</a>

{{else}}
- No artifacts have been stored for this build
{{/if}}

___

## ⏪ Rollback Steps

It is always advisable to 'fix forward' where possible. In situation where this is not an option, re-deploy the previous version of the pipeline.

| **#** | **Actions** |
|---------------------------------------|----------------------------------------|
| 1 | No rollback steps have been defined, please contact the build requester.  |

___
